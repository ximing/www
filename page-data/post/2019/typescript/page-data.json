{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/post/2019/typescript/","result":{"data":{"site":{"siteMetadata":{"title":"一席之地","author":"xi ming"}},"markdownRemark":{"id":"e20ed8b4-8332-5605-a81e-e8846d16ffad","excerpt":"infer 最早出现在 PR 中，表示在  条件语句中待推断的类型变量。 比如 2.8中内置的ReturnType可以用于提取函数类型的返回值类型 -? 将代表可选项的  去掉 类似地还可以对  进行加减.\n以下代码的作用就是将 T 的所有属性的 readonly 移除,你也可以写一个相反的出来.","html":"<p>infer 最早出现在 <a href=\"https://github.com/Microsoft/TypeScript/pull/21496\">PR</a> 中，表示在 <code class=\"language-text\">extends</code> 条件语句中待推断的类型变量。</p>\n<p>比如 2.8中内置的ReturnType可以用于提取函数类型的返回值类型</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">ReturnType<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">infer</span> <span class=\"token constant\">P</span> <span class=\"token operator\">?</span> <span class=\"token constant\">P</span> <span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>-? 将代表可选项的 <code class=\"language-text\">?</code> 去掉</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Required<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">P</span> <span class=\"token keyword\">in</span> <span class=\"token keyword\">keyof</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">]</span><span class=\"token operator\">-</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">[</span><span class=\"token constant\">P</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>类似地还可以对 <code class=\"language-text\">readonly</code> 进行加减.\n以下代码的作用就是将 T 的所有属性的 readonly 移除,你也可以写一个相反的出来.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Mutable<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">-</span><span class=\"token keyword\">readonly</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">P</span> <span class=\"token keyword\">in</span> <span class=\"token keyword\">keyof</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">[</span><span class=\"token constant\">P</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>","fields":{"slug":"/post/2019/typescript/"},"tableOfContents":"","frontmatter":{"title":"typescript高级用法梳理","date":"2019年08月08日","description":null,"tags":null},"wordCount":{"words":18,"paragraphs":5,"sentences":6}}},"pageContext":{"slug":"/post/2019/typescript/","previous":{"fields":{"slug":"/post/2019/inversifyjs/"},"frontmatter":{"title":"inversify学习","tags":null,"description":null}},"next":{"fields":{"slug":"/post/2019/前端视角支持游戏开发/"},"frontmatter":{"title":"前端视角支持游戏开发","tags":["游戏","react"],"description":null}}}},"staticQueryHashes":["2887002447","3110208747","3255319198","63159454"],"slicesMap":{}}